<!DOCTYPE html>
<html>

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <title>.NET Concurrency Essentials III</title>
    <meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta http-equiv="X-UA-Compatible" content="ie=edge" />


<link rel="stylesheet" href="/assets/css/bootstrap.min.css" />
<link rel="stylesheet" href="/assets/css/style.css" />
<link rel="stylesheet" href="/assets/css/navbar.css" />


<link href="https://fonts.googleapis.com/css2?family=Muli:wght@300;400;500;600" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" />


<link rel="icon" type="image/svg" href="/assets/images/logo.svg" />
    
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/atom-one-dark.min.css" />
<link rel="stylesheet" href="/assets/css/single.css" /> 
</head>

<body>
    <div class="container-fluid bg-dimmed wrapper">
        
         <nav class="navbar navbar-expand-lg top-navbar final-navbar shadow">
    <div class="container">
        <a class="navbar-brand" href="http://localhost:1313/">
            <img src="/assets/images/logo.svg">The imposter syndrome</a>
        <button class="navbar-toggler navbar-light" type="button" >
        <span class="navbar-toggler-icon"></span>
      </button>

        <div class="collapse navbar-collapse" id="top-nav-items">
            <ul class="navbar-nav ml-auto">
            </ul>
            </ul>
        </div>
    </div>
</nav> 

        
        
<div class="container p-0 read-area">
    
    <div class="hero-area col-sm-12" style='background-image: url(/images/posts/threads.jpg);'>
    </div>

    
    <div class="page-content">
        <div class="author-profile ml-auto align-self-lg-center">
            <img class="rounded-circle" src='/images/avatar.jpg' />
            <h5 class="author-name">David Fernández</h5>
            <p>December 2, 2025</p>
        </div>

        <div class="title">
            <h1>.NET Concurrency Essentials III</h1>
        </div>

        <div class="post-content" id="post-content">
            <p>I wish you all a merry Christmas and a happy new year 2026. May your life goals be achieved this year! Here is my little present for you: the third post about concurrency on .Net!</p>
<p>In the previous post we compared <code>Concurrency</code> and <code>Parallelism</code> and also explained how <code>async</code> and <code>await</code> really work under the hood. Today we are going with a shorter (but not least important) one: <code>SynchronizationContext</code>. What is it and why is it important in UI applications? Does it make my application faster?</p>
<p>Let&rsquo;s go with it.</p>
<hr>
<h4 id="what-is-the-synchronizationcontext">What is the <code>SynchronizationContext</code>?</h4>
<p>Each thread has an associated <code>SynchronizationContext</code>, which is a mechanism that handles <strong>where</strong> and <strong>how</strong> the code is executed. It often redirects the execution of code to a specific thread after an <code>await</code>. Normally, it is used in situations where we need to return the code execution to the UI thread since that is the only one where we can update UI elements. It ensures that async continuations that touch UI controls run on the UI thread.</p>
<p>We can avoid returning the execution to the previous thread before the <code>await</code> asking the <code>Task</code> to not capture the context with its <code>ConfigureAwait(false)</code> method. This usually improves performance because the execution will continue in another ThreadPool thread instead of waiting for the previous one to be free. As mentioned, it is important to remember that if the code performs UI operations in a different thread other than the UI one the application may throw an exception and crash.</p>
<p>Since  ASP.Net Core doesn&rsquo;t have UI, the <code>SynchronizationContext</code> is always null by default so continuations after an <code>await</code> will continue on any ThreadPool thread. This is intentional to avoid blocking threads unnecessarily. Classic ASP.Net did have a <code>SynchronizationContext</code>, although, in order to preserve request context. Today, we rely on IHttpContextAccessor to handle the HTTP context differently.</p>
<p>Each UI framework like Avalonia, WPF, WinForms, etc. have their own implementation. <a href="https://github.com/AvaloniaUI/Avalonia/blob/master/src/Avalonia.Base/Threading/AvaloniaSynchronizationContext.cs">Here you can check the implementation of the AvaloniaSynchronizationContext</a>.</p>
<p>Some key points on the <code>SynchronizationContext</code>:</p>
<ul>
<li><strong>UI frameworks</strong> use a <em>single-threaded</em> model where all UI operations must run on the UI thread. Their custom SynchronizationContext returns the code execution back to that thread so code that touches UI elements behaves safely.</li>
<li>If you use any <strong>library</strong> code it doesn’t need to know anything about your application threading model. Continuations will resume on the context of the caller of the library method letting libraries remain context-agnostic.</li>
<li>It helps make thread continuation scheduling predictable by allowing you to know where the continuation runs.</li>
</ul>
<hr>
<p>I think the post covers the introduction to the <code>SynchronizationContext</code> concept clearly without overwhelming readers. We could expand way more, for example, by looking at what its methods are for and how we can write our own implementation, but in most cases you won&rsquo;t need to do so. In the next one we will go back to <code>Task</code> and <code>Thread</code> and when and how to use each of them.</p>
<p>As always, please don&rsquo;t hesitate to comment if you want to debate or clarify something.</p>
<p>See you all in the next post!</p>

        </div>

        
        <hr />
        <div class="row next-prev-navigator">
                                          
            <div class="col-md-12 next-article">
                <a href="/posts/async2/" class="btn btn-outline-info">
                    <span>Next <i class="fas fa-chevron-circle-right"></i></span>
                    <br />
                    <span>.NET Concurrency Essentials II</span>
                </a>
            </div>
              
        </div>
        <hr />
        
         <div id="disqus_thread"></div>
<script>
    
    
    

    

    
    
    
    

    (function() { 
        var d = document,
            s = d.createElement('script');
        d.type = "text/javascript";
        d.async = true;
        s.src = 'https://thesyndromeimposter.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript> 
    </div>
    
    </div>

    <footer class="container-fluid text-center align-content-center footer pb-2">
    <div class="container pt-5">
        <div class="row text-left">
            <div class="col-md-4 col-sm-12">
                <h5>Navigation</h5>
                
                <ul>
                    
                    <li class="nav-item">
                        <a class="smooth-scroll" href="#home">Home</a>
                    </li>
                    
                    <li class="nav-item">
                        <a class="smooth-scroll" href="#about">About</a>
                    </li>
                    
                    <li class="nav-item">
                        <a class="smooth-scroll" href="#skills">Skills</a>
                    </li>
                    
                    <li class="nav-item">
                        <a class="smooth-scroll" href="#experiences">Experiences</a>
                    </li>
                    
                    <li class="nav-item">
                        <a class="smooth-scroll" href="#projects">Projects</a>
                    </li>
                    
                    <li class="nav-item">
                        <a class="smooth-scroll" href="#recent-posts">Recent Posts</a>
                    </li>
                    
                </ul>
                
            </div>
            <div class="col-md-4 col-sm-12">
                <h5>Contact Me</h5>
                <ul>
                    
                    <li><span>Email: </span> <span>impostersyndrome.blog@gmail.com</span></li>
                    
                </ul>
            </div>
        </div>
        </form>
    </div>
    <hr />
    <div class="d-flex justify-content-center icons">
        <a class="py-2 px-2 d-none d-lg-inline-block" href="https://dfernandezramos.github.io/index.xml">RSS feed <i class="fas fa-rss fa-blue"></i></a>
    </div>
    <hr />
    <div class="container">
        <div class="row text-left">
            <div class="col-md-4">
                <a id="theme" href="https://github.com/hossainemruz/toha" target="#">
                    <img src="/assets/images/logo-inverted.png"> Toha
                </a>
            </div>
            <div class="col-md-4">© 2020 Copyright.</div>
            <div class="col-md-4">
                Powered by <a href="https://gohugo.io/">Hugo
        <img
          src="/assets/images/hugo-logo-wide.svg"
          alt="Hugo Logo"
          height="18"
        />
        </a>
                <div>Icons made by <a href="https://www.flaticon.com/authors/icongeek26" title="Icongeek26">Icongeek26</a> from <a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a></div>
            </div>
        </div>
    </div>
</footer>
    <script src="/assets/js/jquery-3.7.1.min.js"></script>
<script src="/assets/js/bootstrap.min.js"></script>

<script src="/assets/js/navbar.js"></script>
<script src="/assets/js/jquery.filterizr.min.js"></script>


    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js"></script>
    <script src="/assets/js/single.js"></script>
    <script>
        hljs.initHighlightingOnLoad();
    </script>
     
</body>

</html>